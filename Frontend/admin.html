<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>admin</title>
    <link rel="stylesheet" href="./css/admin.css" />
    <link rel="stylesheet" href="./css/home.css" />
  </head>
  <body>
    <header>
      <div class="headerContainer">
        <div class="headerTitle">
          <img src="./img/admin.png" alt="" />
          <a id="logo" class="nav-link" href="admin.html">DineLink Admin</a>
        </div>
        <nav class="nav">
          <a class="nav-link" href="adminOrder.html">Orders</a>
          <a class="nav-link active" href="admin.html">Products</a>
          <a class="nav-link" href="dataBase.html">Database</a>
          <button onclick="adminLogout()" style="padding:10px 20px; border-radius:12px; border:1px solid rgba(255,255,255,0.3); background:rgba(255,255,255,0.1); color:white; cursor:pointer; font-weight:700; margin-left:10px;">Logout</button>
        </nav>
        <button id="menuToggle" class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">â˜°</button>
      </div>
    </header>
    <div class="main-content">
      <div id="searchContainer" class="searchContainer">
        <img src="./img/search.png" alt="" />
        <input type="text" id="search" placeholder="Search..." />
      </div>
      <div class="buttonContainer">
        <button class="addBtn" onclick="openFormPopup()">Add Product</button>
      </div>
      <div id="productList" class="productList"></div>
    </div>

    <!-- Form Popup for adding/editing products -->
    <div id="formPopup" class="formPopup">
      <div id="formContent" class="formContent">
        <span class="close" onclick="closeFormPopup()">&times;</span>
        <h2 id="formTitle">Add New Product</h2>
        <div class="formGroup">
          <label for="">Name:</label>
          <input type="text" id="nameInput" />
        </div>
        <div class="formGroup">
          <label for="">Description:</label>
          <input type="text" id="descInput" />
        </div>
        <div class="formGroup">
          <label for="categoryInput">Category:</label>
          <select id="categoryInput" style="width:100%; padding:12px; border-radius:12px; border:2px solid #f0f0f0;">
            <option value="Main Course">Main Course</option>
            <option value="Drinks">Drinks</option>
            <option value="Fast Food">Fast Food</option>
            <option value="Desserts">Desserts</option>
            <option value="Fruits">Fruits</option>
          </select>
        </div>
        <div class="formGroup">
          <label for="timeInput">Cooking Time (mins):</label>
          <input type="number" id="timeInput" placeholder="e.g. 15" />
        </div>
        <div class="formGroup">
          <label for="stockInput">Initial Stock:</label>
          <input type="number" id="stockInput" placeholder="e.g. 50" />
        </div>
        <div class="formGroup">
          <label for="priceInput">Price (CFA):</label>
          <input type="number" id="priceInput" />
        </div>
        <div class="formGroup">
          <label for="urlInput">Image URL:</label>
          <input type="text" id="urlInput" />
        </div>
        <div class="">
          <button class="btn-submit" onclick="saveProduct()">
            Save Product
          </button>
        </div>
      </div>
    </div>

    <!--Popups for valodation-->
    <div id="popup" class="popup">
      <div id="popupContent" class="popupContent">
        <span class="close" onclick="closePopUp()">&times;</span>
        <img src="./img/validate4.png" alt="" />
        <p>Saved successfully</p>
        <button class="okButton correct" onclick="closePopUp()">OK</button>
      </div>
    </div>
    <div id="popup2" class="popup">
      <div id="popup2Content" class="popupContent">
        <span class="close" onclick="closePopUp2()">&times;</span>
        <img src="./img/error.png" alt="" />
        <p>Please fill in all fields!!</p>
        <button class="okButton error" onclick="closePopUp2()">OK</button>
      </div>
    </div>

    <!--Popups for fetch errors-->
     <div id="errorPopup1" class="popup">
      <div id="errorPopup1Content" class="popupContent">
        <span class="close" onclick="closeErrorPopUp1()">&times;</span>
        <img src="./img/error.png" alt="" />
        <p>Network response was not ok</p>
        <button class="okButton error" onclick="closeErrorPopUp1()">OK</button>
      </div>
    </div>

    <div id="errorPopup2" class="popup">
      <div id="errorPopup2Content" class="popupContent">
        <span class="close" onclick="closeErrorPopUp2()">&times;</span>
        <img src="./img/error.png" alt="" />
        <p>There has been a problem with your fetch operation</p>
        <button class="okButton error" onclick="closeErrorPopUp2()">OK</button>
      </div>
    </div>

    <script src="./js/config.js"></script>
    <script src="./js/notify.js"></script>
  <script src="./js/ui.js"></script>
    <script src="./js/adminAuth.js"></script>
    <script src="./js/admin.js"></script>
  </body>
</html>
